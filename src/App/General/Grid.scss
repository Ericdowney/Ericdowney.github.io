$gutter-margin-size: 1.6;
$maximum-columns: 12;
$base-column-width: (100 - $gutter-margin-size * ($maximum-columns - 1))/$maximum-columns;

@function column-width($column-span) {
    @return ($base-column-width * $column-span)+($gutter-margin-size * ($column-span - 1)) * 1%
}

.row,
.column {
    box-sizing: border-box;
}

.row {
    display: flex;

    &:before,
    &:after {
        content: " ";
        display: flex;
    }
    &:after {
        clear: both;
    }
}

.column {
    position: relative;
    float: left;
}

@media (max-width: 767px) {
    .row {
        flex-direction: column;
        align-items: center;
    }
    @for $i from 1 through $maximum-columns {
        .column-#{$i} {
            width: 100%;
            float: none;
        }
    }
    .column {
        + .column {
            margin-left: 0;
        }
    }
}

@media (min-width: 768px) {
    .row {
        flex-direction: row;
    }
    @for $i from 1 through $maximum-columns {
        .column-#{$i} {
            width: column-width($i);
        }
    }
    .column {
        + .column {
            margin-left: $gutter-margin-size * 1%;
        }
    }
}